<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test JsonController</title>
</head>
<body>
<h5>This is test json page!</h5>
<hr/>
<h4>Test JsonController</h4>

<!--使用@RequestBody获取请求体数据-->
<button type="submit" id="kapcb">点击测试JsonController</button>
</body>
<script>

    let button = document.getElementById('kapcb');

    /**
     * request method
     */
    let type = "post";

    /**
     * request url
     */
    let url = "json/testJson";

    /**
     * content type
     */
    let contentType = "application/json;charset=UTF-8";

    /**
     * json params data
     * @type {string}
     */
    let data = '{"addressName":"kapcb","addressNum":88888888}';

    /**
     * onclick function
     */
    button.onclick = function () {
        let ajax = new XMLHttpRequest();
        ajax.open(type, url, true);
        ajax.setRequestHeader("Content-type", contentType)
        ajax.send(data);
        ajax.onreadystatechange = function () {
            if (ajax.readyState === 4 && ajax.status === 200) {
                console.log("ajax request success...");
                let result = ajax.responseText;
                console.log("the request result is : " + result);
                let parse = JSON.parse(result);
                console.log("the parse result is : " + parse);
                console.log("the parse result's addressName is : " + parse.addressName);
                alert("Hello " + parse.addressName);
            }
        };
    };

</script>
</html>